/*!
 * Davalidator v0.1
 * http://daweed-es.github.io/davalidator/
 * Released under the MIT license
 * Author: David Noguera Gutierrez
 * Date: 2013-4-28
 */
(function(a,b){daValidator=function(e,g,f){var c=document.forms[e],d=new Array();this.numValidations=0;this.addValidation=function(h,i,k,j){if(j==b){j=null}d.push(new Array(h,i,k,j,false));this.numValidations++};c.onsubmit=function(){var k,o,h,n=true,m=true;daValidator.prototype.dialogMsg="";validationMsgItems=this.getElementsByClassName("davalidator-msg");if(validationMsgItems.length>0){$(validationMsgItems).remove()}for(k=0,o=d.length;k<o;k++){h=document.getElementById(d[k][1]).value;m=daValidator.prototype[d[k][0]].apply(this,[h,d[k][3]]);if(m==false){daValidator.prototype[g.msgType].apply(this,[d[k],g.msgEffect]);n=false}else{if(g.msgType=="showToolTip"){$("#"+d[k][1]).attr("title","").tooltip("destroy")}}}if(g.msgType=="showDialog"&&n===false){var r="<div id='daValidator-dialog'><p>"+daValidator.prototype.dialogMsg+"</p></div>",l=g.msgButton!=b?g.msgButton:"close",q=g.msgTitle!=b?g.msgTitle:"form errors",p=g.msgShow!=b?g.msgShow:"fold",j=g.msgHide!=b?g.msgHide:"scale";f(c).after(r);$("#daValidator-dialog:ui-dialog").dialog("destroy");$("#daValidator-dialog").dialog({modal:true,show:p,hide:j,resizable:false,title:q,dialogClass:"daValidator-dialog-info",buttons:[{text:l,click:function(){$(this).dialog("close")}}]})}return n}};daValidator.prototype={showAppend:function(c,d){var f="#"+c[1],g=c[1]+"_msg",e="";if(document.getElementById(g)==b){jQuery(f).after("<span class='davalidator-msg' id='"+g+"'>"+c[2]+"</span>")}else{e=document.getElementById(g).innerHTML+c[2];jQuery("#"+g).html(e)}if(d=="fade"){jQuery("#"+g).hide().fadeIn("slow")}else{jQuery("#"+g).show().hide().slideDown()}},showToolTip:function(c,d){var f="#"+c[1],e="";$(f).attr("title",c[2]).tooltip({position:{of:f,my:"left center",at:"right-10 top"}}).tooltip("open")},showDialog:function(c){daValidator.prototype.dialogMsg+=c[2]},showAlert:function(c){alert(c[2])},reqValue:function(){if(arguments[0].replace(/^(\s|\&nbsp;)*|(\s|\&nbsp;)*$/g,"").length==0){return false}else{return true}},intValue:function(){var c=/^(?:\+|-)?\d+$/;if(arguments[0].match(c)&&(arguments[0]!="")){return true}else{return false}},urlValue:function(){var c=/^(ht|f)tp(s?)\:\/\/[0-9a-zA-Z]([-.\w]*[0-9a-zA-Z])*(:(0-9)*)*(\/?)( [a-zA-Z0-9\-\.\?\,\'\/\\\+&%\$#_]*)?$/;if(arguments[0].match(c)&&(arguments[0]!="")){return true}else{return false}},minLength:function(){if(arguments[0].replace(/^(\s|\&nbsp;)*|(\s|\&nbsp;)*$/g,"").length<arguments[1]){return false}else{return true}},maxLenght:function(){if(arguments[0].replace(/^(\s|\&nbsp;)*|(\s|\&nbsp;)*$/g,"").length>arguments[1]){return false}else{return true}},emailValue:function(){if(arguments[0].length<=0){return false}var f=arguments[0].match("^(.+)@(.+)$");if(f==null){return false}if(f[1]!=null){var e=/^\'?[\w-_\.]*\'?$/;if(f[1].match(e)==null){return false}}if(f[2]!=null){var d=/^[\w-\.]*\.[A-Za-z]{2,4}$/;if(f[2].match(d)==null){var c=/^\[\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}\]$/;if(f[2].match(c)==null){return false}}return true}return false}};a.daValidator=daValidator})(this);
